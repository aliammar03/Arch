#!/bin/bash

# Check if the script is being run as root
if [[ $EUID -ne 0 ]]; then
    echo "This script must be run as root."
    exit 1
fi

# List available disks
lsblk

# Prompt user to enter the disk name
read -p "Enter the disk name (e.g., /dev/sda): " disk

# Prompt user to confirm the disk selection
read -p "Are you sure you want to format $disk? (y/n): " confirm
if [[ ! $confirm =~ ^[Yy]$ ]]; then
    echo "Operation aborted."
    exit 0
fi

# Prompt user to enter the partition label
read -p "Enter the partition label: " label

# Format the disk with ext4 filesystem
mkfs.ext4 $disk

# Set the partition label
e2label $disk $label

echo "Partition $disk has been formatted and labeled as $label."

exit 0
